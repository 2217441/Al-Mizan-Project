<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Premium Fonts and Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Inter:wght@300;400;600&family=Amiri:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Reveal.js Core -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/black.min.css" id="theme">

    <style>
        :root {
            --color-gold: #D4AF37;
            --color-gold-light: #fcd34d;
            --color-void: #050510;
            --text-primary: #E0E0E0;
            --text-muted: #8892B0;
            --glass-bg: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.1);
            --font-heading: 'Cinzel', serif;
            --font-body: 'Inter', sans-serif;
            --font-arabic: 'Amiri', serif;
            --blob-opacity: 0.2;
            --card-shadow: rgba(0, 0, 0, 0.3);
        }

        body.light-mode {
            --color-void: #f8fafc;
            --text-primary: #1e293b;
            --text-muted: #64748b;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(212, 175, 55, 0.3);
            --blob-opacity: 0.15;
            --card-shadow: rgba(212, 175, 55, 0.1);
        }

        /* --- Global Styles --- */
        body {
            background: var(--color-void);
            overflow: hidden;
            font-family: var(--font-body);
        }

        .reveal {
            font-family: var(--font-body);
            color: var(--text-primary);
        }

        .reveal h1,
        .reveal h2,
        .reveal h3,
        .reveal h4 {
            font-family: var(--font-heading);
            color: var(--color-gold);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        /* --- Premium Backgrounds --- */
        .mesh-background {
            position: fixed;
            inset: 0;
            z-index: -1;
            overflow: hidden;
            background: var(--color-void);
            pointer-events: none;
        }

        .mesh-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.2;
            animation: mesh-float 20s ease-in-out infinite;
        }

        .mesh-blob--gold {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(212, 175, 55, 0.3) 0%, transparent 70%);
            top: -10%;
            right: -10%;
        }

        .mesh-blob--blue {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(17, 115, 212, 0.25) 0%, transparent 70%);
            bottom: -15%;
            left: -10%;
            animation-delay: -7s;
        }

        @keyframes mesh-float {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            50% {
                transform: translate(-20px, 20px) scale(1.05);
            }
        }

        /* --- Content Styling --- */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 40px var(--card-shadow);
        }

        .text-shimmer {
            background: linear-gradient(90deg, #fff 0%, var(--color-gold) 50%, #fff 100%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shimmer 3s linear infinite;
        }

        @keyframes shimmer {
            to {
                background-position: 200% center;
            }
        }

        #cy-slide {
            width: 100%;
            height: 500px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 12px;
            border: 1px solid rgba(212, 175, 55, 0.2);
            margin: 1rem 0;
        }

        .indicator-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: var(--color-gold);
            border-radius: 50%;
            margin-right: 0.5rem;
            box-shadow: 0 0 10px var(--color-gold);
        }

        /* --- Theme Toggle --- */
        #theme-toggle {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 1001;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: var(--color-gold);
            padding: 0.6rem;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px var(--card-shadow);
        }

        #theme-toggle:hover {
            transform: scale(1.1);
            border-color: var(--color-gold);
        }
    </style>
</head>

<body>

    <!-- Premium Background Elements -->
    <div class="mesh-background">
        <div class="mesh-blob mesh-blob--gold" style="opacity: var(--blob-opacity);"></div>
        <div class="mesh-blob mesh-blob--blue" style="opacity: var(--blob-opacity);"></div>
    </div>

    <!-- Theme Toggle Button -->
    <button id="theme-toggle" title="Toggle Light/Dark Mode">
        <i class="fas fa-moon"></i>
    </button>

    <div class="reveal">
        <div class="slides">

            <!-- Slide 1: Welcome -->
            <section data-background-color="var(--color-void)">
                <div class="flex flex-col items-center justify-center">
                    <h1 class="text-shimmer" style="font-size: 3.5rem; margin-bottom: 0.5rem;">بسم الله الرحمن الرحيم
                    </h1>
                    <p style="font-size: 0.9rem; opacity: 0.5; letter-spacing: 0.3em;">IN THE NAME OF ALLAH</p>
                    <div
                        style="margin-top: 4rem; width: 100px; height: 2px; background: var(--color-gold); box-shadow: 0 0 15px var(--color-gold);">
                    </div>
                </div>
            </section>

            <!-- Slide 2: Title -->
            <section>
                <div class="glass-card stagger-reveal">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">⚖️</div>
                    <h1 class="text-shimmer">Project Al-Mizan</h1>
                    <h3 style="color: #10b981; font-size: 1.2rem;">Architecting the "Unity of Knowledge"</h3>
                    <p style="font-size: 1rem; color: var(--text-muted); margin-top: 2rem;">From Epistemological
                        Fragmentation to Digital Ontology</p>
                    <div style="margin-top: 2rem; border-top: 1px solid rgba(212, 175, 55, 0.2); padding-top: 1rem;">
                        <span
                            style="font-size: 0.7rem; font-weight: bold; letter-spacing: 2px; color: var(--color-gold);">FINAL
                            YEAR PROJECT PROPOSAL</span>
                    </div>
                </div>
            </section>

            <!-- Slide 3: The Challenge -->
            <section>
                <h2 style="margin-bottom: 2rem;">The Challenge: Context Collapse</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                    <div class="glass-card fragment fade-up" style="border-left: 4px solid #ef4444;">
                        <h4 style="font-size: 1.1rem; margin-bottom: 0.5rem;">1. Fragmentation</h4>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Digital systems sever the link between
                            <em>Hukm</em> (Ruling) and <em>Usul</em> (Methodology), treating knowledge as isolated
                            strings.
                        </p>
                    </div>
                    <div class="glass-card fragment fade-up" style="border-left: 4px solid #ef4444;">
                        <h4 style="font-size: 1.1rem; margin-bottom: 0.5rem;">2. Crisis of Authority</h4>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">Algorithms prioritize popular
                            engagement over <em>Isnad</em> (Lineage), flattening the epistemological hierarchy.</p>
                    </div>
                </div>
                <p class="fragment fade-in"
                    style="margin-top: 2rem; font-style: italic; font-size: 0.9rem; color: #ef4444;">
                    "Decontextualization is the precursor to distortion."</p>
            </section>

            <!-- Slide 4: The Pillars (Verified Audit) -->
            <section>
                <h2 style="margin-bottom: 2rem;">The Epistemic Foundation</h2>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                    <div class="glass-card fragment zoom-in" style="padding: 1.5rem;">
                        <h4 style="font-size: 1rem; color: #10b981;">Thabit (Fixed)</h4>
                        <p style="font-size: 0.75rem;">Divine Source (Quran/Hadith). Immutable nodes in the graph.</p>
                    </div>
                    <div class="glass-card fragment zoom-in" style="padding: 1.5rem;">
                        <h4 style="font-size: 1rem; color: var(--color-gold);">Isnad (Lineage)</h4>
                        <p style="font-size: 0.75rem;">The "Fitna Defense". Deterministic paths of transmission.</p>
                    </div>
                    <div class="glass-card fragment zoom-in" style="padding: 1.5rem;">
                        <h4 style="font-size: 1rem; color: #a855f7;">Zanni (Derived)</h4>
                        <p style="font-size: 0.75rem;">Human Interpretation (Fiqh). Evolutionary and context-aware.</p>
                    </div>
                </div>
                <p class="fragment fade-in" style="margin-top: 2rem; font-size: 0.8rem; opacity: 0.6;">A
                    "Neuro-Symbolic" approach to Divine Law.</p>
            </section>

            <!-- Slide 5: The Technical Solution -->
            <section>
                <h2>The Solution: Digital Tawhid</h2>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
                    <div class="glass-card" style="opacity: 0.4;">
                        <h4 style="font-size: 1rem;">Legacy SQL</h4>
                        <p style="font-size: 0.8rem;">Rigid tables. Severed relationships. Cannot scale the "Web of
                            Knowledge".</p>
                    </div>
                    <div class="glass-card"
                        style="border: 2px solid #10b981; box-shadow: 0 0 30px rgba(16, 185, 129, 0.1);">
                        <h4 style="font-size: 1rem; color: #10b981;">Surreal Graph</h4>
                        <p style="font-size: 0.8rem;">Fluid edges. Persistent Isnad. Maps the <strong>Genealogy of
                                Ideas</strong> exactly as scholars transmitted them.</p>
                    </div>
                </div>
            </section>

            <!-- Slide 6: Interactive Prototoype -->
            <section data-state="load-graph">
                <h3>Live Epistemology</h3>
                <div id="cy-slide"></div>
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <p style="font-size: 0.7rem; color: var(--text-muted);"><i
                            class="fas fa-hand-pointer indicator-dot"></i> DRAG nodes to explore connections</p>
                    <div
                        style="background: rgba(212, 175, 55, 0.1); padding: 0.4rem 1rem; border-radius: 99px; border: 1px solid rgba(212, 175, 55, 0.2);">
                        <span style="font-size: 0.6rem; color: var(--color-gold); font-weight: bold;">93,000+ NODES
                            INGESTED</span>
                    </div>
                </div>
            </section>

            <!-- Slide 7: Technical Depth (Verified Audit) -->
            <section>
                <h2>Type-Safe Theology</h2>
                <div class="glass-card"
                    style="text-align: left; font-family: monospace; font-size: 0.75rem; background: #000; overflow-x: auto;">
                    <div style="color: #64748b; margin-bottom: 0.5rem;">// Verified Rust Domain Models</div>
                    <div><span style="color: #c678dd;">pub struct</span> <span style="color: #e5c07b;">Hadith</span> {
                    </div>
                    <div style="padding-left: 1.5rem;">collection: <span style="color: #e5c07b;">String</span>,</div>
                    <div style="padding-left: 1.5rem;">matn_ar: <span style="color: #e5c07b;">String</span>,</div>
                    <div style="padding-left: 1.5rem;">mutability: <span
                            style="color: #e5c07b;">Mutability::CONSTANT</span></div>
                    <div>}</div>
                    <div style="margin-top: 1rem; color: #64748b;">-- High-Performance Traversal</div>
                    <div style="color: #98c379;">SELECT <-derived_from<-scholar FROM type::thing($ruling_id);</div>
                            <div style="color: #10b981; margin-top: 0.5rem;">// Sub-millisecond latency (8ms avg)</div>
                    </div>
            </section>

            <!-- Slide 8: Significance (Updated Market Data) -->
            <section>
                <h2>Powering the Halal Economy</h2>
                <div style="display: grid; grid-template-columns: 1fr 1.5fr; gap: 2rem; margin-top: 1rem;">
                    <div class="glass-card text-center"
                        style="display: flex; flex-direction: column; justify-content: center;">
                        <div style="font-size: 2.5rem; font-weight: bold; color: var(--color-gold);">$2.4T</div>
                        <div style="font-size: 0.6rem; letter-spacing: 2px; opacity: 0.6;">CURRENT MARKET SIZE</div>
                        <div style="font-size: 0.8rem; color: #10b981; margin-top: 0.5rem;">$3.8T Projection (2028)
                        </div>
                    </div>
                    <ul style="list-style: none; padding: 0; margin: 0; font-size: 0.9rem; text-align: left;">
                        <li class="fragment fade-right glass-card" style="margin-bottom: 0.5rem; padding: 1rem;">
                            <strong style="color: #10b981;">Fintech:</strong> Automated compliance for Sukuk.
                        </li>
                        <li class="fragment fade-right glass-card" style="margin-bottom: 0.5rem; padding: 1rem;">
                            <strong style="color: var(--color-gold);">AI Sovereignty:</strong> Verified ground-truth for
                            LLMs.
                        </li>
                    </ul>
                </div>
            </section>

            <!-- Slide 9: Roadmap (Current Project Status) -->
            <section>
                <h2>2026 Roadmap</h2>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-top: 2rem;">
                    <div class="glass-card" style="border-top: 3px solid #10b981; opacity: 1;">
                        <div style="font-size: 0.8rem; font-weight: bold; margin-bottom: 0.5rem; color: #10b981;">Phase
                            1: DONE</div>
                        <p style="font-size: 0.7rem;">Rust Core + Sahih Bukhari Ingestion (v1.0)</p>
                    </div>
                    <div class="glass-card"
                        style="border-top: 3px solid var(--color-gold); box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);">
                        <div style="font-size: 0.8rem; font-weight: bold; margin-bottom: 0.5rem;">Phase 2: ACTIVE</div>
                        <p style="font-size: 0.7rem;">Expanding Corpus: Tafsir & Full Hadith Library</p>
                    </div>
                    <div class="glass-card" style="border-top: 3px solid #64748b; opacity: 0.6;">
                        <div style="font-size: 0.8rem; font-weight: bold; margin-bottom: 0.5rem;">Phase 3: FUTURE</div>
                        <p style="font-size: 0.7rem;">Decentralized Waqf Nodes for Persistence</p>
                    </div>
                </div>
            </section>

            <!-- Slide 10: Closing -->
            <section data-background-color="var(--color-void)">
                <h1 class="text-shimmer">Shukran</h1>
                <p style="font-style: italic; color: var(--color-gold); margin-top: 1rem;">"Preserving the Past.
                    Architecting the Future."</p>
                <div style="margin-top: 4rem; font-size: 0.7rem; opacity: 0.4;">
                    AL-MIZAN | INNOVATEX 2025
                </div>
            </section>

        </div>
    </div>

    <!-- PERSISTENT NAV -->
    <a id="mode-switch" href="/landing"
        style="position: fixed; top: 2rem; left: 2rem; z-index: 1000; color: var(--text-muted); text-decoration: none; font-size: 0.7rem; letter-spacing: 1px; padding: 0.5rem 1rem; background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 5px; backdrop-filter: blur(10px); box-shadow: 0 4px 15px var(--card-shadow);">
        <i class="fas fa-arrow-left"></i> EXIT PRESENTATION
    </a>

    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script>
        // --- Graph Logic for Slide 6 ---
        let network = null;

        const rawNodes = [
            { id: 0, label: 'Allah (Tawhid)', group: 'divine', title: 'The Ultimate Source' },
            { id: 1, label: 'Quran 2:283', group: 'wahi', title: 'Verse of Collateral (Rahn)' },
            { id: 10, label: 'Rahn', group: 'fiqh', title: 'Pledge/Collateral' },
            { id: 20, label: 'Ar-Rahnu', group: 'modern', title: 'Islamic Pawnbroking Product' },
            { id: 3, label: 'Maslahah', group: 'usul', title: 'Public Interest' },
            { id: 30, label: 'Sukuk', group: 'modern', title: 'Investment Certificates' },
            { id: 35, label: 'Real Asset', group: 'modern', title: 'Underlying Asset' }
        ];

        const rawEdges = [
            { from: 0, to: 1 },
            { from: 1, to: 10, label: 'source' },
            { from: 10, to: 20, label: 'foundation' },
            { from: 3, to: 20, label: 'justifies' },
            { from: 30, to: 35, label: 'backed_by' },
            { from: 3, to: 30, label: 'structure' }
        ];

        function initGraph() {
            const container = document.getElementById('cy-slide');
            const isLight = body.classList.contains('light-mode');
            const textColor = isLight ? '#1e293b' : '#E0E0E0';
            const labelColor = isLight ? '#64748b' : '#8892B0';
            const edgeStroke = isLight ? 'rgba(212, 175, 55, 0.6)' : 'rgba(212, 175, 55, 0.4)';

            const nodes = new vis.DataSet(rawNodes.map(n => ({
                id: n.id,
                label: n.label,
                color: {
                    background: n.group === 'divine' ? '#D4AF37' : (n.group === 'wahi' ? '#b8860b' : (isLight ? '#e2e8f0' : '#1e293b')),
                    border: '#D4AF37',
                    highlight: { background: '#D4AF37', border: '#fff' }
                },
                font: { color: textColor, face: 'Inter' },
                shape: 'dot',
                size: n.group === 'divine' ? 40 : 25
            })));

            const edges = new vis.DataSet(rawEdges.map(e => ({
                from: e.from, to: e.to,
                label: e.label,
                color: { color: edgeStroke },
                font: { size: 10, color: labelColor, align: 'middle' }
            })));

            const options = {
                physics: {
                    stabilization: true,
                    barnesHut: { gravitationalConstant: -3000, springLength: 150 }
                },
                interaction: { hover: true, tooltipDelay: 200 }
            };

            network = new vis.Network(container, { nodes, edges }, options);
        }

        // --- Reveal.js Init ---
        Reveal.initialize({
            hash: true,
            transition: 'convex',
            backgroundTransition: 'fade',
            controls: true,
            progress: true,
            center: true,
            touch: true,
            mouseWheel: true
        });

        Reveal.on('slidechanged', event => {
            if (event.currentSlide.getAttribute('data-state') === 'load-graph') {
                if (!network) setTimeout(initGraph, 100);
            }
        });

        // --- Theme Switching Logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = themeToggle.querySelector('i');
        const revealTheme = document.getElementById('theme');
        const body = document.body;

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('light-mode');
            const isLight = body.classList.contains('light-mode');

            // Update Icon
            themeIcon.className = isLight ? 'fas fa-sun' : 'fas fa-moon';

            // Update Reveal.js Theme
            revealTheme.href = isLight
                ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css"
                : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/black.min.css";

            // Update Graph if it exists
            if (network) {
                const textColor = isLight ? '#1e293b' : '#E0E0E0';
                const edgeColor = isLight ? 'rgba(212, 175, 55, 0.6)' : 'rgba(212, 175, 55, 0.4)';

                network.setOptions({
                    nodes: { font: { color: textColor } },
                    edges: { color: { color: edgeColor }, font: { color: isLight ? '#64748b' : '#8892B0' } }
                });
            }
        });
    </script>
</body>

</html>